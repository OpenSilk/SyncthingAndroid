From 358554e8aff15d63e3937e8fb1d3651c924dcacc Mon Sep 17 00:00:00 2001
From: Andrew Sutherland <dr3wsuth3rland@gmail.com>
Date: Tue, 7 Apr 2015 09:32:21 -0500
Subject: [PATCH 4/4] capture strange panic

---
 Godeps/_workspace/src/github.com/calmh/xdr/reader.go | 7 +++++++
 1 file changed, 7 insertions(+)

diff --git a/Godeps/_workspace/src/github.com/calmh/xdr/reader.go b/Godeps/_workspace/src/github.com/calmh/xdr/reader.go
index e669322..cb85611 100644
--- a/Godeps/_workspace/src/github.com/calmh/xdr/reader.go
+++ b/Godeps/_workspace/src/github.com/calmh/xdr/reader.go
@@ -8,6 +8,7 @@ import (
 	"fmt"
 	"io"
 	"reflect"
+	"runtime"
 	"unsafe"
 )
 
@@ -60,6 +61,12 @@ func (r *Reader) ReadBytesInto(dst []byte) []byte {
 }
 
 func (r *Reader) ReadBytesMaxInto(max int, dst []byte) []byte {
+	defer func() {
+		if e := recover(); e != nil {
+			_, f, ln, _ := runtime.Caller(1)
+			dl.Printf("Caught panic(%s:%s)(%d, %#v) %s\n", f, ln, max, dst, e)
+		}
+	}()
 	if r.err != nil {
 		return nil
 	}
-- 
2.3.4

